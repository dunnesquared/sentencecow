{% extends "layout.html" %}

{% block content %}



  <h1>Welcome to Le Guin Sentence Word Counter!</h1>

  <p>This program extracts sentences from a text and counts the number of words
    in each sentence, <i>as best as possible.</i></p>

  <p>In the boxes below, write or paste a short text ({{max}} words or less)
    and set the maximum number of words that should appear in each sentence.
    Click 'Count' to see how your sentences measure up!</p>


    <form id="lgcform" action="/leguinncounter" method="POST">

      <!-- Display message if input text over word count-->
      <div>
      {% if is_over == True %}
        <textarea
        name="input_text"
        placeholder="Write your story here..."
        onfocus= "this.placeholder =''"
        wrap="soft"
        maxlength="{{char_max}}"
        oninput="refresh();">{{ input_text }}</textarea>

        <p class="over"> {{ msg }} </p>
      {% else %}
        <textarea name="input_text"
         placeholder="Write your story here..."
         onfocus= "this.placeholder =''"
         wrap="soft"
         maxlength="{{char_max}}"
         oninput="refresh();"></textarea>
      {% endif %}

      <p id="wcTitle">Word Count (Max. {{max}}):  <span id='word-count'>0</span> </p>
      </div>


    <h3>Max Number of Words per Sentence:</h3>

    <div>
      <input name="max"
       type="number"
       min=1
       max="{{max}}"
       value="7"
       oninput="enableSubmit();"></input>
    </div>

    <!--For testing purposes
    <div><input name="max"></input></div>
    -->

     <br>
     <div>
      <input id='count' name='submit_button' type="Submit", value="Count" disabled></input>
      <button id='reset_button' type="button" value="Reset" onclick="resetAll();">Reset</button>
    </div>



  </form>

 <br>
  <p>N.B. The maximum number of <i>characters</i> allowed
    in the text box is {{char_max}}, whitespaces included. That should
    be plenty.</p>

  <!--To display exceptions-->
  <pre class='error'></pre>

  <script type="text/javascript" src="{{ url_for('static', filename='count.js') }}"></script>


{% endblock %}
